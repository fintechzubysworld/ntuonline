<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ntudioka Admin</title>

<script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore-compat.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{background:#111;color:white;font-family:Arial;padding:30px;}
.card{background:#1e1e1e;padding:20px;border-radius:15px;margin-bottom:20px;}
input,textarea{width:100%;padding:8px;margin-top:5px;border-radius:8px;border:none;}
button{margin-top:10px;padding:8px 15px;border:none;border-radius:20px;background:#ff9800;color:white;cursor:pointer;}
button:hover{background:#ff5722;}
</style>
</head>

<body>

<h1><i class="fa-solid fa-shield"></i> Admin Dashboard</h1>

<div class="card">
<h3>ðŸŽ™ Add Podcast (External Link)</h3>
<input id="podTitle" placeholder="Title">
<input id="podUrl" placeholder="Audio URL">
<button onclick="uploadPodcast()">Publish</button>
</div>

<div class="card">
<h3>ðŸŽ¥ Add Video (External Link)</h3>
<input id="videoTitle" placeholder="Title">
<input id="videoUrl" placeholder="Video URL">
<button onclick="uploadVideo()">Post</button>
</div>

<div class="card">
<h3>ðŸ–¼ Add Photo</h3>
<input id="photoTitle" placeholder="Title">
<input id="photoUrl" placeholder="Image URL">
<button onclick="uploadPhoto()">Post</button>
</div>

<div class="card">
<h3>ðŸ”´ Live Stream</h3>
<input id="liveId" placeholder="YouTube Video ID">
<input id="liveDuration" type="number" placeholder="Auto end after (minutes)">
<button onclick="setLive()">Go Live</button>
<button onclick="endLive()">End Live Now</button>
</div>

<script>
const firebaseConfig={
 apiKey:"AIzaSyDA02mVmQxC_cu2QCyq4NN8LhQIWo50V5A",
 authDomain:"ntudioka-online-c29d8.firebaseapp.com",
 projectId:"ntudioka-online-c29d8"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();
const auth=firebase.auth();

function uploadPodcast(){
 db.collection("podcasts").add({
   title:podTitle.value,
   audioUrl:podUrl.value,
   created:firebase.firestore.FieldValue.serverTimestamp()
 });
 podTitle.value=""; podUrl.value="";
 alert("Podcast linked");
}

function uploadVideo(){
 db.collection("posts").add({
   title:videoTitle.value,
   video:videoUrl.value,
   time:Date.now()
 });
 videoTitle.value=""; videoUrl.value="";
 alert("Video linked");
}

function uploadPhoto(){
 db.collection("posts").add({
   title:photoTitle.value,
   image:photoUrl.value,
   time:Date.now()
 });
 photoTitle.value=""; photoUrl.value="";
 alert("Photo linked");
}

function setLive(){
 db.collection("live").doc("current").set({
   videoId:liveId.value,
   startedAt:Date.now()
 });
 const duration=parseInt(liveDuration.value);
 if(duration){
   setTimeout(()=>{
     db.collection("live").doc("current").delete();
   },duration*60000);
 }
 alert("Live started");
}

function endLive(){
 db.collection("live").doc("current").delete();
 alert("Live ended");
}
</script>

</body>
</html>
